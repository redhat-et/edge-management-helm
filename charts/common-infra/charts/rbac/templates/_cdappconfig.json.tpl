{{- define "cdappconfig.json" }}{"database":{"adminPassword":"{{ .Values.db.adminPassword }}","adminUsername":"{{ .Values.db.adminUsername }}","hostname":"{{ .Values.db.hostname }}","name":"{{ .Values.db.name }}","password":"{{ .Values.db.password }}","port":{{ .Values.db.port }},"sslMode":"disable","username":"{{ .Values.db.username }}"},"endpoints":[{"apiPath":"/api/rbac/","app":"rbac","hostname":"{{ .Values.rbacService.hostname }}","name":"service","port":8000,"tlsPort":0}],"featureFlags":{"clientAccessToken":"{{ .Values.featureFlags.clientAccessToken }}","hostname":"{{ .Values.featureFlags.hostname }}","port":4242,"scheme":"http"},"hashCache":"","inMemoryDb":{"hostname":"{{ .Values.redis.hostname }}","port":6379},"kafka":{"brokers":[{"hostname":"{{ .Values.kafka.hostname }}","port":9092}],"topics":[{"name":"platform.notifications.ingress","requestedName":"platform.notifications.ingress"},{"name":"platform.rbac.sync","requestedName":"platform.rbac.sync"},{"name":"platform.chrome","requestedName":"platform.chrome"}]},"logging":{"cloudwatch":{"accessKeyId":"","logGroup":"","region":"","secretAccessKey":""},"type":"null"},"metadata":{"deployments":[{"image":"{{ .Values.images.rbac }}","name":"worker-service"},{"image":"{{ .Values.images.rbac }}","name":"scheduler-service"},{"image":"{{ .Values.images.rbac }}","name":"service"}],"envName":"env-demo","name":"rbac"},"metricsPath":"/metrics","metricsPort":9000,"privatePort":10000,"publicPort":8000,"webPort":8000}{{- end }}